(function(){var t={2228:function(t,e,n){"use strict";var a=n(9963),o=n(6252);function i(t,e,n,a,i,r){const c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(c)}var r={name:"App",components:{},mounted(){}},c=n(3744);const s=(0,c.Z)(r,[["render",i]]);var d=s,l=n(2119);const u=t=>((0,o.dD)("data-v-fad69366"),t=t(),(0,o.Cn)(),t),_={class:"g-container"},m=u((()=>(0,o._)("div",{class:"main__title"},"Рыба главной страницы, нажмите на корзину",-1)));function p(t,e,n,a,i,r){const c=(0,o.up)("Navigation");return(0,o.wg)(),(0,o.iD)("div",_,[m,(0,o.Wm)(c)])}const v={class:"nav"},h={class:"nav__list"},f={class:"nav__item"},g={class:"nav__item"};function C(t,e,n,a,i,r){return(0,o.wg)(),(0,o.iD)("nav",v,[(0,o._)("ul",h,[(0,o._)("li",f,[(0,o._)("a",{onClick:e[0]||(e[0]=e=>t.$router.push({name:"MainPage"}))},"Главная /")]),(0,o._)("li",g,[(0,o._)("a",{onClick:e[1]||(e[1]=e=>t.$router.push({name:"Cart"}))},"Корзина")])])])}var b={name:"NavigationComponent",components:{}};const I=(0,c.Z)(b,[["render",C],["__scopeId","data-v-f37b2150"]]);var y=I,k={name:"MainPage",components:{Navigation:y}};const T=(0,c.Z)(k,[["render",p],["__scopeId","data-v-fad69366"]]);var x=T,M=n(3577);const w=t=>((0,o.dD)("data-v-4048c126"),t=t(),(0,o.Cn)(),t),O={class:"g-container"},S={class:"cart"},N=w((()=>(0,o._)("div",{class:"cart__title"},"Корзина",-1))),D={class:"cart__table"},E={class:"header"},j={class:"header__counter counter"},q=w((()=>(0,o._)("div",{class:"counter__title"},"Выделено",-1))),Q={class:"counter__number"},z=w((()=>(0,o._)("div",{class:"btn__cross"},null,-1))),A=w((()=>(0,o._)("div",{class:"btn__text"},"Удалить отмеченные",-1))),P=[z,A],W={class:"cart__list list"},H={class:"cart__footer footer"},Z={class:"footer__group"},$={class:"cart__beforeTax tax"},R=w((()=>(0,o._)("div",{class:"tax__title"},"Промежуточный итог по корзине:",-1))),U={class:"tax__sum"},F={class:"cart__tax tax"},K=w((()=>(0,o._)("div",{class:"tax__title"},"В том числе НДС:",-1))),L={class:"tax__sum"},G={class:"cart__total total"},Y=w((()=>(0,o._)("div",{class:"total__title"},"Итого:",-1))),B={class:"total__number"};function J(t,e,n,a,i,r){const c=(0,o.up)("Navigation"),s=(0,o.up)("ItemComponent");return(0,o.wg)(),(0,o.iD)("div",O,[(0,o.Wm)(c),(0,o._)("div",S,[N,(0,o._)("div",D,[(0,o._)("div",E,[(0,o._)("div",j,[q,(0,o._)("div",Q,(0,M.zw)(i.checked.length),1)]),(0,o._)("div",{class:"header__btn btn",onClick:e[0]||(e[0]=t=>r.OnDeleteChecked(i.checked))},P)]),(0,o._)("ul",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,((t,e)=>((0,o.wg)(),(0,o.j4)(s,{key:t.id,product_data:t,index:e,indexToStore:e,totalInCart:i.totalInCart,onSaveNumberToStore:r.OnSaveNumberToStore,onCheckItem:e=>r.OnCheckItem(t),onDeleteChecked:r.OnDeleteChecked},null,8,["product_data","index","indexToStore","totalInCart","onSaveNumberToStore","onCheckItem","onDeleteChecked"])))),128))]),(0,o._)("div",H,[(0,o._)("div",Z,[(0,o._)("div",$,[R,(0,o._)("div",U,(0,M.zw)(t.cartTotal)+" Р",1)]),(0,o._)("div",F,[K,(0,o._)("div",L,(0,M.zw)(r.tax)+" Р",1)])]),(0,o._)("div",G,[Y,(0,o._)("div",B,(0,M.zw)(t.cartTotal)+" Р",1)])])])])])}n(6699);const V=t=>((0,o.dD)("data-v-12fd84b6"),t=t(),(0,o.Cn)(),t),X={class:"item"},tt={class:"item__controls"},et={class:"radio radio--checkbox"},nt={class:"radio__title"},at={class:"item__pic"},ot=["src"],it={class:"item__name"},rt={class:"item__info"},ct={class:"item__price"},st={class:"item__quantity"},dt={class:"item__total"},lt={class:"modal"},ut=V((()=>(0,o._)("div",{class:"modal__title"},"Изменить количество",-1))),_t={class:"modal__change change"},mt={class:"change__price"},pt={type:"number",class:"change__input"},vt={type:"number",class:"change__total"},ht={class:"change__btns btns"};function ft(t,e,i,r,c,s){const d=(0,o.up)("modal"),l=(0,o.Q2)("click-outside");return(0,o.wg)(),(0,o.iD)("li",X,[(0,o._)("div",tt,[(0,o._)("label",et,[(0,o._)("input",{type:"checkbox",class:"radio__elem",onClick:e[0]||(e[0]=t=>s.checkItem(i.product_data))}),(0,o._)("div",nt,(0,M.zw)(i.index+1),1)])]),(0,o._)("div",at,[(0,o._)("img",{class:"item__img",src:n(990)("./"+i.product_data.image),alt:"image"},null,8,ot)]),(0,o._)("div",it,(0,M.zw)(i.product_data.name),1),(0,o._)("div",rt,[(0,o._)("div",ct,(0,M.zw)(i.product_data.price)+" Р",1),(0,o._)("div",st,[(0,o._)("button",{type:"button",class:"item__button",onClick:e[1]||(e[1]=(...t)=>r.toggleModal&&r.toggleModal(...t))},(0,M.zw)(i.product_data.quantity),1)]),(0,o._)("div",dt,(0,M.zw)(s.totalInCart)+" Р",1)]),(0,o.Wm)(d,null,{modal:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",lt,[ut,(0,o._)("div",_t,[(0,o._)("div",mt,(0,M.zw)(i.product_data.price)+" x",1),(0,o._)("button",{type:"button",class:"change__btn",onClick:e[2]||(e[2]=(...t)=>s.decreaseItemQuantity&&s.decreaseItemQuantity(...t))}," - "),(0,o._)("span",pt,(0,M.zw)(r.defQuantityInModal),1),(0,o._)("button",{type:"button",class:"change__btn",onClick:e[3]||(e[3]=(...t)=>s.increaseItemQuantity&&s.increaseItemQuantity(...t))}," + "),(0,o._)("span",vt,(0,M.zw)(s.totalInModal)+" Р",1)]),(0,o._)("div",ht,[(0,o._)("button",{type:"button",class:"btns__save",onClick:e[4]||(e[4]=t=>{s.saveNumberToStore(),r.modalActive=!1})}," сохранить "),(0,o._)("button",{type:"button",class:"btns__decline",onClick:e[5]||(e[5]=t=>{r.closeModal(),r.modalActive=!1})}," отменить ")])])),[[a.F8,r.modalActive],[l,s.onClickOutside]])])),_:1})])}function gt(t,e,n,a,i,r){return(0,o.WI)(t.$slots,"modal")}var Ct={name:"ModalWindow"};const bt=(0,c.Z)(Ct,[["render",gt]]);var It=bt,yt=n(2262),kt=n(425),Tt=n.n(kt),xt={name:"ItemComponent",directives:{clickOutside:Tt().directive},props:{product_data:{type:Object,default(){return{}}},index:{type:Number},indexToStore:{type:Number}},components:{modal:It},emits:["saveNumberToStore","checkItem","deleteChecked"],data(){return{}},computed:{totalInModal(){let t=this.product_data.price*this.defQuantityInModal;return t},totalInCart(){let t=this.product_data.price*this.product_data.quantity;return t}},setup(){const t=(0,yt.iH)(!1),e=(0,yt.iH)(1),n=()=>{t.value=!t.value},a=()=>{t.value=!1};return{defQuantityInModal:e,modalActive:t,toggleModal:n,closeModal:a}},methods:{saveNumberToStore(){this.$emit("saveNumberToStore",{quantityInModal:this.defQuantityInModal,indexToStore:this.indexToStore,totalInCart:this.totalInCart,totalInModal:this.totalInModal})},increaseItemQuantity(){this.defQuantityInModal++},decreaseItemQuantity(){this.defQuantityInModal>1&&this.defQuantityInModal--},checkItem(t){this.$emit("checkItem",t)},deleteChecked(){this.$emit("deleteChecked")},onClickOutside(){this.modalActive=!1}}};const Mt=(0,c.Z)(xt,[["render",ft],["__scopeId","data-v-12fd84b6"]]);var wt=Mt,Ot=n(3907),St={name:"CartComponent",components:{ItemComponent:wt,Navigation:y},props:["product"],data(){return{checked:[],quantityInModalToCart:Number,indexToStore:Number,totalInCart:Number,totalInModal:Number}},setup(){const t=(0,yt.iH)(1);return{quantityInCart:t}},emits:["saveNumberToStore","deleteChecked"],computed:{...(0,Ot.rn)({products:t=>t.products}),...(0,Ot.Se)(["cartTotal"]),tax(){let t=Math.round(this.cartTotal/100*18);return t}},methods:{...(0,Ot.nv)({saveToStore:"saveToStore",deleteCheckedItem:"deleteCheckedItem"}),OnSaveNumberToStore(t){this.quantityInModalToCart=t.quantityInModal,this.indexToStore=t.indexToStore,this.totalInCart=t.totalInCart,this.totalInModal=t.totalInModal,this.saveToStore({quantityInModalToCart:this.quantityInModalToCart,index:this.indexToStore,totalInCart:this.totalInCart,totalInModal:this.totalInModal})},OnCheckItem(t){if(this.checked.includes(t)){let e=this.checked.indexOf(t);this.checked.splice(e,1)}else this.checked.push(t)},OnDeleteChecked(t){this.deleteCheckedItem(t),this.checked=[]}},async mounted(){}};const Nt=(0,c.Z)(St,[["render",J],["__scopeId","data-v-4048c126"]]);var Dt=Nt,Et=[{path:"/",name:"MainPage",component:x},{path:"/cart",name:"Cart",component:Dt}];const jt=(0,l.p7)({history:(0,l.r5)(),routes:Et});var qt=jt;const Qt=(0,Ot.MT)({state:{products:[{image:"img1.jpg",name:"Нож складной WENGER",price:990,id:1,quantity:1},{image:"img2.jpg",name:"Рюкзак WENGER",price:5500,id:2,quantity:1},{image:"img3.png",name:"Перьевая ручка Waterman",price:450,id:3,quantity:1}]},mutations:{UPDATE_CART:(t,e)=>{t.products[e.index].quantity=e.quantityInModalToCart,e.totalInCart=e.totalInModal},DELETE_CHECKED:(t,e)=>{t.products=t.products.filter((t=>!e.includes(t)))}},actions:{async saveToStore({commit:t},e){t("UPDATE_CART",e)},async deleteCheckedItem({commit:t},e){t("DELETE_CHECKED",e)}},getters:{fetchProducts:t=>t.products,cartTotal:t=>{let e=[];if(t.products.length){for(let n of t.products)e.push(n.price*n.quantity);return e=e.reduce((function(t,e){return t+e})),e}return 0}}});var zt=Qt;const At=(0,a.ri)(d);At.use(qt),At.use(zt),At.mount("#app")},990:function(t,e,n){var a={"./img1.jpg":2476,"./img2.jpg":1213,"./img3.png":2954};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=i,t.exports=o,o.id=990},2476:function(t,e,n){"use strict";t.exports=n.p+"img/img1.b693e2e5.jpg"},1213:function(t,e,n){"use strict";t.exports=n.p+"img/img2.e19a2ca7.jpg"},2954:function(t,e,n){"use strict";t.exports=n.p+"img/img3.b6fc1ef0.png"}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,i){if(!a){var r=1/0;for(l=0;l<t.length;l++){a=t[l][0],o=t[l][1],i=t[l][2];for(var c=!0,s=0;s<a.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(c=!1,i<r&&(r=i));if(c){t.splice(l--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/loft_test_task/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,r=a[0],c=a[1],s=a[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var l=s(n)}for(e&&e(a);d<r.length;d++)i=r[d],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},a=self["webpackChunktest_task"]=self["webpackChunktest_task"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2228)}));a=n.O(a)})();
//# sourceMappingURL=app.7ebe57be.js.map